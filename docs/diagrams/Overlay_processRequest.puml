@startuml
participant "OverlayImpl" as C_0001116672667747658761
[-> C_0001116672667747658761 : processRequest(const http_request_type &,Handoff &)
activate C_0001116672667747658761
C_0001116672667747658761 -> C_0001116672667747658761 : processCrawl(const http_request_type &,Handoff &)
activate C_0001116672667747658761
participant "src/ripple/protocol/BuildInfo.h" as C_0000818737266816281884
C_0001116672667747658761 -> C_0000818737266816281884 : getFullVersionString()
activate C_0000818737266816281884
C_0000818737266816281884 --> C_0001116672667747658761
deactivate C_0000818737266816281884
alt
C_0001116672667747658761 -> C_0001116672667747658761 : getOverlayInfo()
activate C_0001116672667747658761
participant "PeerImp" as C_0002118346084380460994
C_0001116672667747658761 -> C_0002118346084380460994 : getNodePublic()
activate C_0002118346084380460994
C_0002118346084380460994 --> C_0001116672667747658761
deactivate C_0002118346084380460994
participant "PublicKey" as C_0000572563999667803355
C_0001116672667747658761 -> C_0000572563999667803355 : data()
activate C_0000572563999667803355
C_0000572563999667803355 --> C_0001116672667747658761
deactivate C_0000572563999667803355
C_0001116672667747658761 -> C_0002118346084380460994 : getNodePublic()
activate C_0002118346084380460994
C_0002118346084380460994 --> C_0001116672667747658761
deactivate C_0002118346084380460994
C_0001116672667747658761 -> C_0000572563999667803355 : size()
activate C_0000572563999667803355
C_0000572563999667803355 --> C_0001116672667747658761
deactivate C_0000572563999667803355
participant "src/ripple/basics/base64.h" as C_0000676572626798658570
C_0001116672667747658761 -> C_0000676572626798658570 : base64_encode(const std::uint8_t *,std::size_t)
activate C_0000676572626798658570
C_0000676572626798658570 --> C_0001116672667747658761
deactivate C_0000676572626798658570
C_0001116672667747658761 -> C_0002118346084380460994 : uptime()
activate C_0002118346084380460994
C_0002118346084380460994 --> C_0001116672667747658761
deactivate C_0002118346084380460994
alt
alt
C_0001116672667747658761 -> C_0002118346084380460994 : getRemoteAddress()
activate C_0002118346084380460994
C_0002118346084380460994 --> C_0001116672667747658761
deactivate C_0002118346084380460994
end
end
C_0001116672667747658761 -> C_0001116672667747658761 : for_each((lambda at /home/bramv/src/projects/rippled/src/ripple/overlay/impl/OverlayImpl.cpp:807:14) &&)
activate C_0001116672667747658761
loop
alt
participant "OverlayImpl::getOverlayInfo()::(lambda src/ripple/overlay/impl/OverlayImpl.cpp:807:14)" as C_0001953054235286811261
C_0001116672667747658761 -> C_0001953054235286811261 : operator()()
activate C_0001953054235286811261
C_0001953054235286811261 -> C_0002118346084380460994 : slot()
activate C_0002118346084380460994
C_0002118346084380460994 --> C_0001953054235286811261
deactivate C_0002118346084380460994
participant "PeerFinder::Slot" as C_0002039135395342803340
C_0001953054235286811261 -> C_0002039135395342803340 : inbound()
activate C_0002039135395342803340
C_0002039135395342803340 --> C_0001953054235286811261
deactivate C_0002039135395342803340
C_0001953054235286811261 -> C_0002118346084380460994 : **[**crawl()**]**
activate C_0002118346084380460994
C_0002118346084380460994 --> C_0001953054235286811261
deactivate C_0002118346084380460994
C_0001953054235286811261 -> C_0002118346084380460994 : getRemoteAddress()
activate C_0002118346084380460994
C_0002118346084380460994 --> C_0001953054235286811261
deactivate C_0002118346084380460994
C_0001953054235286811261 -> C_0002118346084380460994 : **[**slot()**]**
activate C_0002118346084380460994
C_0002118346084380460994 --> C_0001953054235286811261
deactivate C_0002118346084380460994
C_0001953054235286811261 -> C_0002039135395342803340 : **[**inbound()**]**
activate C_0002039135395342803340
C_0002039135395342803340 --> C_0001953054235286811261
deactivate C_0002039135395342803340
C_0001953054235286811261 -> C_0002118346084380460994 : slot()
activate C_0002118346084380460994
C_0002118346084380460994 --> C_0001953054235286811261
deactivate C_0002118346084380460994
C_0001953054235286811261 -> C_0002039135395342803340 : listening_port()
activate C_0002039135395342803340
C_0002039135395342803340 --> C_0001953054235286811261
deactivate C_0002039135395342803340
C_0001953054235286811261 -> C_0002118346084380460994 : getVersion()
activate C_0002118346084380460994
C_0002118346084380460994 --> C_0001953054235286811261
deactivate C_0002118346084380460994
C_0001953054235286811261 -> C_0002118346084380460994 : ledgerRange(std::uint32_t &,std::uint32_t &)
activate C_0002118346084380460994
deactivate C_0002118346084380460994
C_0001953054235286811261 -> C_0002118346084380460994 : getPeerShardInfos()
activate C_0002118346084380460994
C_0002118346084380460994 --> C_0001953054235286811261
deactivate C_0002118346084380460994
C_0001953054235286811261 -> C_0002118346084380460994 : getNodePublic()
activate C_0002118346084380460994
C_0002118346084380460994 --> C_0001953054235286811261
deactivate C_0002118346084380460994
participant "NodeStore::ShardInfo" as C_0001113216765856705435
C_0001953054235286811261 -> C_0001113216765856705435 : **[**finalized()**]**
activate C_0001113216765856705435
C_0001113216765856705435 --> C_0001953054235286811261
deactivate C_0001113216765856705435
C_0001953054235286811261 -> C_0001113216765856705435 : finalizedToString()
activate C_0001113216765856705435
C_0001113216765856705435 --> C_0001953054235286811261
deactivate C_0001113216765856705435
C_0001953054235286811261 -> C_0001113216765856705435 : **[**incomplete()**]**
activate C_0001113216765856705435
C_0001113216765856705435 --> C_0001953054235286811261
deactivate C_0001113216765856705435
C_0001953054235286811261 -> C_0001113216765856705435 : incompleteToString()
activate C_0001113216765856705435
C_0001113216765856705435 --> C_0001953054235286811261
deactivate C_0001113216765856705435
C_0001953054235286811261 --> C_0001116672667747658761
deactivate C_0001953054235286811261
end
end
deactivate C_0001116672667747658761
C_0001116672667747658761 --> C_0001116672667747658761
deactivate C_0001116672667747658761
end
alt
C_0001116672667747658761 -> C_0001116672667747658761 : getServerInfo()
activate C_0001116672667747658761
participant "Application" as C_0000024089222317618888
C_0001116672667747658761 -> C_0000024089222317618888 : getOPs()
activate C_0000024089222317618888
C_0000024089222317618888 --> C_0001116672667747658761
deactivate C_0000024089222317618888
participant "NetworkOPs" as C_0001260923009776150340
C_0001116672667747658761 -> C_0001260923009776150340 : getServerInfo(bool,bool,bool)
activate C_0001260923009776150340
C_0001260923009776150340 --> C_0001116672667747658761
deactivate C_0001260923009776150340
C_0001116672667747658761 --> C_0001116672667747658761
deactivate C_0001116672667747658761
end
alt
C_0001116672667747658761 -> C_0001116672667747658761 : getServerCounts()
activate C_0001116672667747658761
participant "src/ripple/rpc/handlers/GetCounts.h" as C_0001327288341886736468
C_0001116672667747658761 -> C_0001327288341886736468 : getCountsJson(ripple::Application &,int)
activate C_0001327288341886736468
C_0001327288341886736468 --> C_0001116672667747658761
deactivate C_0001327288341886736468
C_0001116672667747658761 --> C_0001116672667747658761
deactivate C_0001116672667747658761
end
alt
C_0001116672667747658761 -> C_0001116672667747658761 : getUnlInfo()
activate C_0001116672667747658761
C_0001116672667747658761 -> C_0000024089222317618888 : validators()
activate C_0000024089222317618888
C_0000024089222317618888 --> C_0001116672667747658761
deactivate C_0000024089222317618888
participant "ValidatorList" as C_0000290153769275083926
C_0001116672667747658761 -> C_0000290153769275083926 : getJson()
activate C_0000290153769275083926
C_0000290153769275083926 --> C_0001116672667747658761
deactivate C_0000290153769275083926
C_0001116672667747658761 -> C_0000024089222317618888 : validatorSites()
activate C_0000024089222317618888
C_0000024089222317618888 --> C_0001116672667747658761
deactivate C_0000024089222317618888
participant "ValidatorSite" as C_0001944946701653211573
C_0001116672667747658761 -> C_0001944946701653211573 : getJson()
activate C_0001944946701653211573
C_0001944946701653211573 --> C_0001116672667747658761
deactivate C_0001944946701653211573
C_0001116672667747658761 --> C_0001116672667747658761
deactivate C_0001116672667747658761
end
C_0001116672667747658761 --> C_0001116672667747658761
deactivate C_0001116672667747658761
C_0001116672667747658761 -> C_0001116672667747658761 : processValidatorList(const http_request_type &,Handoff &)
activate C_0001116672667747658761
C_0001116672667747658761 -> C_0000818737266816281884 : getFullVersionString()
activate C_0000818737266816281884
C_0000818737266816281884 --> C_0001116672667747658761
deactivate C_0000818737266816281884
alt
alt
end
end
alt
end
C_0001116672667747658761 -> C_0000024089222317618888 : validators()
activate C_0000024089222317618888
C_0000024089222317618888 --> C_0001116672667747658761
deactivate C_0000024089222317618888
C_0001116672667747658761 -> C_0000290153769275083926 : getAvailable(const boost::beast::string_view &,std::optional<std::uint32_t>)
activate C_0000290153769275083926
C_0000290153769275083926 --> C_0001116672667747658761
deactivate C_0000290153769275083926
alt
else
else
end
C_0001116672667747658761 --> C_0001116672667747658761
deactivate C_0001116672667747658761
C_0001116672667747658761 -> C_0001116672667747658761 : processHealth(const http_request_type &,Handoff &)
activate C_0001116672667747658761
C_0001116672667747658761 -> C_0000818737266816281884 : getFullVersionString()
activate C_0000818737266816281884
C_0000818737266816281884 --> C_0001116672667747658761
deactivate C_0000818737266816281884
C_0001116672667747658761 -> C_0001116672667747658761 : getServerInfo()
activate C_0001116672667747658761
C_0001116672667747658761 -> C_0000024089222317618888 : getOPs()
activate C_0000024089222317618888
C_0000024089222317618888 --> C_0001116672667747658761
deactivate C_0000024089222317618888
C_0001116672667747658761 -> C_0001260923009776150340 : getServerInfo(bool,bool,bool)
activate C_0001260923009776150340
C_0001260923009776150340 --> C_0001116672667747658761
deactivate C_0001260923009776150340
C_0001116672667747658761 --> C_0001116672667747658761
deactivate C_0001116672667747658761
alt
alt
participant "OverlayImpl::processHealth(const http_request_type &,Handoff &)::(lambda src/ripple/overlay/impl/OverlayImpl.cpp:1064:23)" as C_0002270844152689374331
C_0001116672667747658761 -> C_0002270844152689374331 : operator()()
activate C_0002270844152689374331
C_0002270844152689374331 --> C_0001116672667747658761
deactivate C_0002270844152689374331
C_0001116672667747658761 -> C_0002270844152689374331 : operator()()
activate C_0002270844152689374331
C_0002270844152689374331 --> C_0001116672667747658761
deactivate C_0002270844152689374331
end
end
alt
C_0001116672667747658761 -> C_0002270844152689374331 : operator()()
activate C_0002270844152689374331
C_0002270844152689374331 --> C_0001116672667747658761
deactivate C_0002270844152689374331
end
alt
alt
C_0001116672667747658761 -> C_0002270844152689374331 : operator()()
activate C_0002270844152689374331
C_0002270844152689374331 --> C_0001116672667747658761
deactivate C_0002270844152689374331
C_0001116672667747658761 -> C_0002270844152689374331 : operator()()
activate C_0002270844152689374331
C_0002270844152689374331 --> C_0001116672667747658761
deactivate C_0002270844152689374331
end
end
alt
alt
C_0001116672667747658761 -> C_0002270844152689374331 : operator()()
activate C_0002270844152689374331
C_0002270844152689374331 --> C_0001116672667747658761
deactivate C_0002270844152689374331
C_0001116672667747658761 -> C_0002270844152689374331 : operator()()
activate C_0002270844152689374331
C_0002270844152689374331 --> C_0001116672667747658761
deactivate C_0002270844152689374331
end
end
alt
alt
C_0001116672667747658761 -> C_0002270844152689374331 : operator()()
activate C_0002270844152689374331
C_0002270844152689374331 --> C_0001116672667747658761
deactivate C_0002270844152689374331
C_0001116672667747658761 -> C_0002270844152689374331 : operator()()
activate C_0002270844152689374331
C_0002270844152689374331 --> C_0001116672667747658761
deactivate C_0002270844152689374331
end
end
C_0001116672667747658761 --> C_0001116672667747658761
deactivate C_0001116672667747658761
[<-- C_0001116672667747658761
deactivate C_0001116672667747658761
@enduml
