
'use strict';
var utils = require('./utils');
var validate = utils.common.validate;
var Request = utils.common.core.Request;
var convertErrors = utils.common.convertErrors;

function submitAsync(txBlob, callback) {
  validate.blob(txBlob);
  var request = new Request(this.remote, 'submit');
  request.message.tx_blob = txBlob;
  request.request(null, utils.common.composeAsync(function (data) {
    return utils.common.convertKeysFromSnakeCaseToCamelCase(data);
  }, convertErrors(callback)));
}

function submit(txBlob) {
  return utils.promisify(submitAsync.bind(this))(txBlob);
}

module.exports = submit;